version: "3"
services:
  knowledgeui:
    build: .
    container_name: knowledgeui
    volumes:
      - .:/src
    ports:
      - 5000:5000
    restart: always
    networks:
      - knowledgeui_net
    logging:
      driver: fluentd
      options:
        fluentd-address: ${ELASTIC_SERVER}:24224
        tag: app.knowledgeui

  slamd:
    container_name: slamd
    image: ghcr.io/mat-o-lab/sequentiallearningapp:main
    volumes:
      - ./temp:/src/temp
    ports:
      - 8866:8866
    restart: always
    networks:
      - knowledgeui_net
    #logging:
      #driver: fluentd
      #options:
      #  fluentd-address: ${ELASTIC_SERVER}:24224
      #  tag: app.slamd

networks:
  knowledgeui_net:
    name: knowledgeui
    driver: bridge
